<div class="button-open-options-container">
  <div class="button-open-options-container-content">
    

    <div class="button-options-container">
        
        <div class="vertical-line-options"></div>
        
        
        <button class="button-open-options-button">
            <div id="button-open-options-button-icon"></div>
        </button>
        
        <button class="button-hide-button-options-icon">
            <div id="button-hide-button-options-icon"></div>
        </button>
    </div>
    
    <div id="draggable-options" class="button-open-options-list hidden">
        <div class="settings-panel-header">
            <span>Налаштування</span>
            <button onclick="closeSettingsPanel()">✕</button>
        </div>
      <ul class="button-open-options-list-list-one-level">
        
        <!-- FixedHeader -->
        <li class="button-open-options-list-item">
          <span>Фіксація шапки</span>
          <ul class="button-open-options-list-list-two-level">
            <li><button onclick="updateUserSetting('fixedHeader', undefined)">Стандарт (немає фіксації)</button></li>
            <li><button onclick="updateUserSetting('fixedHeader', true)">Плаваюча шапка</button></li>
            <li><button onclick="updateUserSetting('fixedHeader', 'always')">Завжди фіксована шапка</button></li>
          </ul>
        </li>

        <!-- Theme -->
        <li class="button-open-options-list-item">
          <span>Тема</span>
          <ul class="button-open-options-list-list-two-level">
            <li><button onclick="updateUserSetting('theme', undefined)">Стандарт (Темна тема)</button></li>
            <li><button onclick="updateUserSetting('theme', 'light')">Світла тема</button></li>
          </ul>
        </li>
        
        <!-- Accent Color -->
        <li class="button-open-options-list-item">
          <span>Кольори</span>
          <ul>
  <li>
    <span>Акцент</span>
    <input type="color" id="accentColorPicker">
    <button id="accentColorResetBtn">Скинути акцент</button>
  </li>
  <li>
    <span>Фон</span>
    <input type="color" id="backgroundColorPicker">
    <button id="backgroundColorResetBtn">Скинути фон</button>
  </li>
  <li>
    <span>Текст</span>
    <input type="color" id="textColorPicker">
    <button id="textColorResetBtn">Скинути текст</button>
  </li>
</ul>

        </li>
        <li class="button-open-options-list-item">
          <button id="resetAllSettingsBtn">Скинути всі налаштування</button>

          <!-- Модалка підтвердження -->
          <div id="confirmResetModal" class="modal-clear-options hidden">
            <div class="modal-content-clear-options">
              <p>Точно хочете видалити всі налаштування?</p>
              <div class="modal-buttons-clear-options">
                <button id="confirmResetYes">Так</button>
                <button id="confirmResetNo">Ні</button>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
// ключ окремо
const COLOR_SETTINGS_KEY = 'customColorSettings';

// завантаження
function getColorSettings() {
  return JSON.parse(localStorage.getItem(COLOR_SETTINGS_KEY)) || {};
}

// збереження
function saveColorSettings(settings) {
  localStorage.setItem(COLOR_SETTINGS_KEY, JSON.stringify(settings));
}

// застосування
function applyColorSettings() {
  const settings = getColorSettings();
  const root = document.documentElement;

  if (settings.accentColor) {
    root.style.setProperty('--accent-color', settings.accentColor);
    document.getElementById('accentColorPicker').value = settings.accentColor;
  }
  if (settings.backgroundColor) {
    root.style.setProperty('--background-color', settings.backgroundColor);
    document.getElementById('backgroundColorPicker').value = settings.backgroundColor;
  }
  if (settings.textColor) {
    root.style.setProperty('--text-color', settings.textColor);
    document.getElementById('textColorPicker').value = settings.textColor;
  }
}

// ініціалізація
document.addEventListener('DOMContentLoaded', () => {
  applyColorSettings();

  const accent = document.getElementById('accentColorPicker');
  const background = document.getElementById('backgroundColorPicker');
  const text = document.getElementById('textColorPicker');

  accent.addEventListener('input', e => {
    const settings = getColorSettings();
    settings.accentColor = e.target.value;
    saveColorSettings(settings);
    applyColorSettings();
  });

  background.addEventListener('input', e => {
    const settings = getColorSettings();
    settings.backgroundColor = e.target.value;
    saveColorSettings(settings);
    applyColorSettings();
  });

  text.addEventListener('input', e => {
    const settings = getColorSettings();
    settings.textColor = e.target.value;
    saveColorSettings(settings);
    applyColorSettings();
  });

  document.getElementById('accentColorResetBtn').addEventListener('click', () => {
    const settings = getColorSettings();
    delete settings.accentColor;
    saveColorSettings(settings);
    applyColorSettings();
  });

  document.getElementById('backgroundColorResetBtn').addEventListener('click', () => {
    const settings = getColorSettings();
    delete settings.backgroundColor;
    saveColorSettings(settings);
    applyColorSettings();
  });

  document.getElementById('textColorResetBtn').addEventListener('click', () => {
    const settings = getColorSettings();
    delete settings.textColor;
    saveColorSettings(settings);
    applyColorSettings();
  });
});
